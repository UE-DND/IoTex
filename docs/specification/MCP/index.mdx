---
title: 规范
---

<div id="enable-section-numbers" />

[模型上下文协议](https://modelcontextprotocol.io) (MCP) 是一个开放协议，
能够实现大语言模型应用程序与外部数据源和工具之间的无缝集成。无论您是在构建AI驱动的IDE、增强聊天界面，还是创建
自定义AI工作流，MCP都提供了一种标准化的方式来连接大语言模型与其所需的上下文。

本规范基于TypeScript架构定义了权威的协议要求，该架构位于
[schema.ts](https://github.com/modelcontextprotocol/specification/blob/main/schema/2025-06-18/schema.ts)。

有关实现指南和示例，请访问
[modelcontextprotocol.io](https://modelcontextprotocol.io)。

本文档中的关键词"必须"(MUST)、"禁止"(MUST NOT)、"必需"(REQUIRED)、"应当"(SHALL)、"不应当"(SHALL NOT)、"应该"(SHOULD)、"不应该"(SHOULD
NOT)、"推荐"(RECOMMENDED)、"不推荐"(NOT RECOMMENDED)、"可以"(MAY)和"可选"(OPTIONAL)的解释应当按照[BCP 14](https://datatracker.ietf.org/doc/html/bcp14)
[[RFC2119](https://datatracker.ietf.org/doc/html/rfc2119)]
[[RFC8174](https://datatracker.ietf.org/doc/html/rfc8174)]中的描述进行，当且仅当它们以全大写字母出现时，如此处所示。

## 概述

MCP为应用程序提供了标准化的方式来：

- 与语言模型共享上下文信息
- 向AI系统暴露工具和能力
- 构建可组合的集成和工作流

该协议使用[JSON-RPC](https://www.jsonrpc.org/) 2.0消息来建立
以下组件之间的通信：

- **主机**(Hosts)：发起连接的大语言模型应用程序
- **客户端**(Clients)：主机应用程序内的连接器
- **服务器**(Servers)：提供上下文和能力的服务

MCP从
[语言服务器协议](https://microsoft.github.io/language-server-protocol/)中汲取了一些灵感，该协议
标准化了如何在整个开发工具生态系统中添加对编程语言的支持。以类似的方式，MCP标准化了如何将额外的上下文
和工具集成到AI应用程序生态系统中。

## 关键细节

### 基础协议

- [JSON-RPC](https://www.jsonrpc.org/) 消息格式
- 有状态连接
- 服务器和客户端能力协商

### 功能特性

服务器可向客户端提供以下任何功能：

- **资源**(Resources)：供用户或AI模型使用的上下文和数据
- **提示**(Prompts)：为用户提供的模板化消息和工作流
- **工具**(Tools)：供AI模型执行的函数

客户端可向服务器提供以下功能：

- **采样**(Sampling)：服务器发起的智能体行为和递归LLM交互
- **根路径**(Roots)：服务器发起的对URI或文件系统边界的查询，以便在其中操作
- **引导**(Elicitation)：服务器发起的向用户请求额外信息

### 其他实用功能

- 配置
- 进度跟踪
- 取消操作
- 错误报告
- 日志记录

## 安全性与信任安全

模型上下文协议通过任意数据访问和代码执行路径实现了强大的功能。伴随这种强大功能而来的是重要的安全性和信任
考量，所有实现者都必须仔细处理。

### 关键原则

1. **用户同意与控制**
   - 用户必须明确同意并理解所有数据访问和操作
   - 用户必须保持对共享数据内容和执行操作的控制权
   - 实现者应当提供清晰的用户界面来审查和授权活动

2. **数据隐私**
   - 主机必须在向服务器暴露用户数据之前获得明确的用户同意
   - 主机不得在未经用户同意的情况下将资源数据传输到其他地方
   - 用户数据应当受到适当访问控制的保护

3. **工具安全性**
   - 工具代表任意代码执行，必须以适当的谨慎态度对待
     - 特别是，工具行为的描述（如注释）应当被视为不可信，除非来自受信任的服务器
   - 主机必须在调用任何工具之前获得明确的用户同意
   - 用户应当在授权使用工具之前了解每个工具的功能

4. **LLM采样控制**
   - 用户必须明确批准任何LLM采样请求
   - 用户应当控制：
     - 是否进行采样
     - 将要发送的实际提示
     - 服务器可以看到的结果
   - 协议有意限制服务器对提示的可见性

### 实施指导原则

虽然MCP本身无法在协议层面强制执行这些安全原则，
但实现者**应该**：

1. 在其应用程序中构建健壮的同意和授权流程
2. 提供安全影响的清晰文档
3. 实施适当的访问控制和数据保护措施
4. 在其集成中遵循安全最佳实践
5. 在功能设计中考虑隐私影响

## 了解更多

探索每个协议组件的详细规范：

<CardGroup cols={5}>
  <Card
    title="架构"
    icon="sitemap"
    href="/specification/2025-06-18/architecture"
  />
  <Card
    title="基础协议"
    icon="code"
    href="/specification/2025-06-18/basic"
  />
  <Card
    title="服务器功能"
    icon="server"
    href="/specification/2025-06-18/server"
  />
  <Card
    title="客户端功能"
    icon="user"
    href="/specification/2025-06-18/client"
  />
  <Card title="贡献" icon="pencil" href="/community/communication" />
</CardGroup>
